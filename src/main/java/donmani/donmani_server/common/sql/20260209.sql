CREATE TABLE fortune (
                         id BIGINT AUTO_INCREMENT PRIMARY KEY,
                         target_date DATE NOT NULL,
                         title VARCHAR(255) NOT NULL,
                         subtitle VARCHAR(255) NOT NULL,
                         content TEXT NOT NULL,
                         item VARCHAR(255) NOT NULL,
                         CONSTRAINT uk_fortune_target_date UNIQUE (target_date)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE fcm_logs (
                          id BIGINT AUTO_INCREMENT PRIMARY KEY,
                          user_id BIGINT NOT NULL,
                          created_at DATETIME(6) NOT NULL,
                          updated_at DATETIME(6) NOT NULL,
                          fcm_token_snapshot VARCHAR(255) NOT NULL,
                          notification_type VARCHAR(255) NOT NULL,
                          status VARCHAR(255) NOT NULL,
                          error_code VARCHAR(255),
                          error_message TEXT,
                          CONSTRAINT fk_fcm_log_user FOREIGN KEY (user_id) REFERENCES user(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE fortune_histories (
                                   id BIGINT AUTO_INCREMENT PRIMARY KEY,
                                   user_id BIGINT NOT NULL,
                                   fortune_id BIGINT NOT NULL,
                                   created_at DATETIME(6) NOT NULL,
                                   updated_at DATETIME(6) NOT NULL,
                                   read_source VARCHAR(255), -- EnumType.STRING
                                   read_at DATETIME(6),
                                   CONSTRAINT fk_history_fortune FOREIGN KEY (fortune_id) REFERENCES fortune(id),
                                   CONSTRAINT fk_history_user FOREIGN KEY (user_id) REFERENCES user(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO fortune (target_date, title, subtitle, content, item) VALUES
                                                                      ('2026-02-01',
                                                                       '이번 달 내 통장은 무사할까?',
                                                                       '2월의 첫 단추를 끼워봐요! 🧚',
                                                                       '새로운 달이 시작되었으니 오늘은 가벼운 마음으로 지갑 속 영수증을 정리하며 마음을 정돈해 보세요. 깨끗해진 지갑만큼 이번 달에는 기분 좋은 소비 행운이 가득 들어올 것만 같은 예감이 들거든요.',
                                                                       '행운의 색 : 연두색'),

                                                                      ('2026-02-02',
                                                                       '통장에 로그아웃이 빈번하다면?',
                                                                       '월요병 퇴치약은 멀리 있지 않아요! 💊',
                                                                       '한 주를 시작하는 월요일이라 몸이 조금 무겁겠지만, 점심 식사 후 가볍게 기지개를 켜며 주변을 둘러보세요. 의외로 가까운 곳에 당신의 기분을 전환해 줄 작은 즐거움이 숨어있으니 놓치지 말고 꼭 붙잡아야 해요.',
                                                                       '행운의 사람 : 체크무늬 셔츠를 입은 사람'),

                                                                      ('2026-02-03',
                                                                       '따뜻한 온기가 필요해요 ☕️',
                                                                       '입춘이 코앞인데 날씨는 쌀쌀!',
                                                                       '날씨가 꽤 쌀쌀하니 오늘은 퇴근길에 김이 모락모락 나는 호빵이나 따뜻한 음료 한 잔으로 스스로를 대접해 볼까요? 이런 소소한 행복이 쌓여 특별한 하루를 만드니, 오늘 나를 위해 쓴 비용은 별별소에 기록해 봐요.',
                                                                       '행운의 음식 : 핫초코'),

                                                                      ('2026-02-04',
                                                                       '봄의 시작, 입춘이에요!',
                                                                       '당신의 마음에도 꽃이 필까요? 🌸',
                                                                       '달력상으로는 벌써 봄이네요! 오늘은 창문을 열고 새로운 계절의 공기를 마시며 집 안을 환기해 보세요. 묵은 먼지를 털어내듯 불필요한 지출 습관도 함께 날려버리면 몸도 마음도 한결 가벼워질 거예요.',
                                                                       '행운의 방향 : 남동쪽'),

                                                                      ('2026-02-05',
                                                                       '주말이 멀지 않았어요!',
                                                                       '오늘 당신을 웃게 할 숫자 8 🍀',
                                                                       '가방 속에 넣어두고 잊고 있었던 사탕을 발견하는 것처럼, 오늘 뜻밖의 즐거운 소비가 생길 수 있어요. 기분 좋은 일이 생겼다면 그 마음이 달아나기 전에 별별소에 짧게라도 기록을 남겨보세요!',
                                                                       '행운의 금액 : 8,800원'),

                                                                      ('2026-02-06',
                                                                       '드디어 금요일!',
                                                                       '불금 지출을 막아줄 든든한 조력자는? 🛡️',
                                                                       '신나는 금요일이라고 너무 무리하게 지갑을 열기보다는, 정말 원했던 물건 하나에만 집중해서 가치 있는 소비를 해보세요. 스마트폰 알람을 잠시 끄고 오로지 나만의 시간을 갖는다면 이번 주 쌓였던 피로가 싹 가실 거예요.',
                                                                       '행운의 아이템 : 스마트폰 케이스'),

                                                                      ('2026-02-07',
                                                                       '여유로운 토요일',
                                                                       '동네 산책하며 보물 찾기 해볼까요? 🗺️',
                                                                       '오늘은 집 근처 아기자기한 동네 서점에 들러 평소 읽고 싶었던 책을 가만히 넘겨보며 시간을 보내보세요. 책 향기 가득한 곳에서 머무르다 보면 복잡했던 고민들에 대한 명쾌한 해답이 문득 떠오를지도 모릅니다.',
                                                                       '행운의 장소 : 독립 서점'),

                                                                      ('2026-02-08',
                                                                       '내일이 월요일이라니!',
                                                                       '일요일 밤을 달래줄 힐링 비법 🌙',
                                                                       '내일부터 시작될 일상을 위해 오늘은 평소보다 일찍 잠자리에 들어 충분한 휴식을 취하는 것이 가장 큰 투자예요. 자기 전 아늑한 조명 아래서 이번 주 지출을 차분히 복기하며 마음을 정리해 보세요.',
                                                                       '행운의 시간 : 오후 10시'),

                                                                      ('2026-02-09',
                                                                       '찬 바람 부는 월요일',
                                                                       '당신의 마음을 녹여줄 색깔은? 🧣',
                                                                       '외출할 때 목도리를 챙겨 체온을 유지해야 오늘 하루 컨디션을 기분 좋게 유지할 수 있어요. 화사한 노란색 소품을 하나 챙긴다면 주변 사람들에게도 당신의 긍정적인 에너지가 기분 좋게 전달될 거예요.',
                                                                       '행운의 색 : 노란색'),

                                                                      ('2026-02-10',
                                                                       '숨겨진 행운을 찾고 싶다면?',
                                                                       '이 행동을 해봐요! 🚪',
                                                                       '혹시 유료 구독 중이지만 잘 쓰지 않는 앱이 있나요? 오늘 과감하게 정리해서 새어나가는 돈을 막어보세요. 혹은 지금 바로 옷장을 열어 안 입는 옷들을 정리하다 보면 잊고 있었던 비상금을 발견하는 행운이 따를 수도 있어요.',
                                                                       '행운의 행동 : 지금 옷장 을 열어보세요!'),

                                                                      ('2026-02-11',
                                                                       '수요일은 원래 당 떨어지는 날!',
                                                                       '달콤한 행운을 드려요 🍫',
                                                                       '나른한 오후를 쫓아내기 위해 달콤한 초콜릿 한 조각과 함께 짧은 휴식을 즐기며 나 자신에게 칭찬 한마디를 건네보세요. 오늘 나를 위해 쓴 작은 비용을 별별소에 기록하며 뿌듯한 마음을 느껴보는 것도 좋아요.',
                                                                       '행운의 음식 : 초콜릿 케이크'),

                                                                      ('2026-02-12',
                                                                       '미세먼지가 답답한 목요일',
                                                                       '맑은 기운을 찾아 떠나요 🫧',
                                                                       '공기가 조금 답답하게 느껴진다면 오늘은 야외 활동보다 쾌적하고 조용한 실내 공간에서 시간을 가져보세요. 탁 트인 통창 카페에 앉아 따뜻한 차를 마시면 답답했던 마음이 시원하게 풀리고 새로운 활력을 얻을 거예요.',
                                                                       '행운의 장소 : 통창이 있는 카페'),

                                                                      ('2026-02-13',
                                                                       '내일은 밸런타인데이!',
                                                                       '설레는 마음을 담은 오늘의 운세 💝',
                                                                       '소중한 사람을 위해 작은 선물을 준비하며 느끼는 설렘이 당신의 하루를 반짝이게 만들어 줄 거예요. 오늘의 설렘을 별별소에 기록해 보세요. 다정한 풍경 속에서 진정한 행복의 의미를 발견하는 따뜻한 금요일이 될 거예요.',
                                                                       '행운의 사람 : 꽃다발을 들고 가는 사람'),

                                                                      ('2026-02-14',
                                                                       'Happy Valentines Day!',
                                                                       '달콤한 유혹에 빠져볼까요? 🍭',
                                                                       '오늘은 조금 비싼 디저트라도 나를 위해 기꺼이 지갑을 열어 달콤한 행복을 충분히 누려야 하는 특별한 날이에요. 사랑 가득한 오늘, 누구와 무엇을 하며 얼마를 썼는지 별별소에 소중한 기록으로 남겨두는 건 어떨까요?',
                                                                       '행운의 아이템 : 하트 모양 장식품'),

                                                                      ('2026-02-15',
                                                                       '일요일 아침',
                                                                       '침대 속 여유를 즐기며 행운의 방향을 확인해봐요! 🧭',
                                                                       '오늘은 창밖 풍경을 바라보며 이번 주에 계획했던 일들을 차분히 정리하기 좋은 날이에요. 서쪽을 향해 기지개를 크게 켜며 몸과 마음을 풀어보세요. 막혔던 운의 흐름이 시원하게 풀리면서 긍정적인 에너지가 가득 충전될 거예요.',
                                                                       '행운의 방향 : 서쪽'),

                                                                      ('2026-02-16',
                                                                       '월요일 아침부터 지갑을 열게 하는',
                                                                       '지름신이 온다면? 🙅‍♀️',
                                                                       '쇼핑몰 장바구니를 채우고 싶을 땐 결제 전 10분만 산책하며 정말 필요한지 다시 한번 생각해 보세요. 조금씩 절약하는 습관을 들인다면 연말에는 아주 든든한 목돈을 만날 수 있답니다. 행운의 숫자만큼 저금해 보는 건 어떨까요?',
                                                                       '행운의 금액 : 1,600원'),

                                                                      ('2026-02-17',
                                                                       '오늘따라 차분한 화요일',
                                                                       '당신의 마음을 채워줄 행운의 색은? 💙',
                                                                       '오늘 하루는 나만의 리듬을 유지하며 마음의 여유를 가지는 것이 가장 중요해요. 파란색 소품을 곁에 두면 복잡했던 생각들이 한결 차분하게 정리될 테니, 오늘 하루의 소비와 감정을 별별소에 기록하며 나를 돌보는 시간을 가져보세요.',
                                                                       '행운의 색 : 파란색'),

                                                                      ('2026-02-18',
                                                                       '어느덧 2월의 중순',
                                                                       '나를 위한 작은 선물을 고민 중인가요? 🎁',
                                                                       '주변 사람들의 조언에 귀를 기울이면 뜻밖의 재테크 정보나 절약 꿀팁을 얻을 수 있는 수요일이에요. 오늘 만나는 누군가가 건네는 사소한 말 한마디가 당신의 소비 철학에 큰 영감을 줄 수 있으니 집중해서 들어보세요.',
                                                                       '행운의 사람 : 안경을 쓰고 태블릿을 보는 사람'),

                                                                      ('2026-02-19',
                                                                       '겨울도 곧 끝나가요!',
                                                                       '꽁꽁 얼었던 내 통장도 녹을까? 🧊',
                                                                       '겨울 가뭄이 해소되듯 정체되었던 일들이 술술 풀리기 시작할 거예요. 미뤄두었던 은행 업무나 서류 정리를 오늘 처리해 보세요. 그리고 오후 4시쯤 따뜻한 햇볕 아래서 휴식하면 좋은 아이디어가 떠올라 업무 효율이 올라갈 거예요.',
                                                                       '행운의 시간 : 오후 4시'),

                                                                      ('2026-02-20',
                                                                       '지갑이 얇아졌다고 슬퍼 마세요!',
                                                                       '곧 월급날이 오잖아요! 💸',
                                                                       '통장 잔고가 아쉬운 시기지만, 친구와 함께 가성비 좋은 떡볶이를 나눠 먹으며 소소한 수다를 떠는 것만으로도 충분히 행복해질 수 있어요. 맛있는 음식을 먹으며 웃다 보면 스트레스는 날아가고 내일은 더 좋은 기운이 찾아올 거예요.',
                                                                       '행운의 음식 : 떡볶이'),

                                                                      ('2026-02-21',
                                                                       '주말 쇼핑 계획이 있다면?',
                                                                       '행운의 장소를 방문해 봐요! 🛍️',
                                                                       '오랜만에 활기찬 에너지가 넘치는 전통 시장을 방문해 제철 식재료를 구경하며 삶의 활력을 채워보는 건 어떨까요? 사람 냄새 나는 곳에서 합리적인 가격으로 물건을 득템하는 소소한 기쁨이 당신의 주말을 가득 채울 거예요.',
                                                                       '행운의 장소 : 전통 시장'),

                                                                      ('2026-02-22',
                                                                       '내일 출근 실화인가요?',
                                                                       '일요일을 2배로 즐기는 법 ✌️',
                                                                       '가만히 앉아 걱정하기보다 좋아하는 음악을 크게 틀어놓고 집 안 청소를 하며 기분 전환을 해보세요. 오래된 다이어리나 사진첩을 넘겨보며 과거의 나를 추억하다 보면 내일을 살아갈 힘이 불끈 솟아날 거예요.',
                                                                       '행운의 아이템 : 유선 이어폰'),

                                                                      ('2026-02-23',
                                                                       '졸업 시즌이라 꽃값이 비싸요!',
                                                                       '내 마음의 꽃은 무료 💐',
                                                                       '새로운 출발을 앞둔 지인들에게 따뜻한 축하 메시지를 보내며 인맥을 돈독히 다져보기 아주 좋은 날이에요. 가벼운 선물과 함께 지인들과의 추억을 기록해보는건 어떨까요? 북서쪽 방향으로 산책하며 복잡한 생각을 정리해 보세요.',
                                                                       '행운의 방향 : 북서쪽'),

                                                                      ('2026-02-24',
                                                                       '화요일의 나른함을 깨우는 스트레칭!',
                                                                       '지갑 건강도 챙겨요 🧘‍♀️',
                                                                       '불필요한 지출이 반복되고 있지는 않은지 점검하며 오늘은 오로지 무지출에 도전해 보는 건 어떨까요? 하루 동안 돈을 쓰지 않고 보낸 소감을 별별소에 기록하면 스스로가 대견하게 느껴져 자존감이 올라갈 거예요.',
                                                                       '행운의 행동 : 지금 신발장 을 정리해 보세요!'),

                                                                      ('2026-02-25',
                                                                       '벌써 2월의 끝자락!',
                                                                       '남은 며칠을 알차게 보내는 비결 ⏳',
                                                                       '갑작스러운 약속이 생길 수 있지만, 예산을 넘지 않는 선에서 즐겁게 어울린다면 큰 활력이 될 거예요. 흰색 아이템을 착용하면 상대방에게 신뢰감을 줄 수 있어 중요한 미팅이나 만남에서 좋은 결과를 얻을 수 있습니다.',
                                                                       '행운의 색 : 화이트색'),

                                                                      ('2026-02-26',
                                                                       '냉장고가 꽉 찼나요?',
                                                                       '오늘은 냉파 요리사가 되어보세요! 👩‍🍳',
                                                                       '새로운 식재료를 사기보다 냉장고 속 재료들을 조합해 나만의 특별한 요리를 만들어 보세요. 생각보다 훌륭한 한 끼가 완성되는 즐거움과 함께 식비를 아꼈다는 뿌듯함까지 별별소에 기록하며 하루를 마무리해 보세요.',
                                                                       '행운의 음식 : 비빔밥'),

                                                                      ('2026-02-27',
                                                                       '금요일 밤',
                                                                       '중고 거래로 쏠쏠한 용돈 벌어볼까요? 💰',
                                                                       '사용하지 않는 물건이 있다면 사진을 찍어 중고 거래 앱에 올려 소소한 수익을 만들어 보세요. 생각보다 높은 금액에 거래가 성사되는 기쁨을 맛본다면 오늘 하루 마무리가 아주 달콤하고 뿌듯할 거예요.',
                                                                       '행운의 금액 : 27,000원'),

                                                                      ('2026-02-28',
                                                                       '2월의 마지막 날!',
                                                                       '한 달 동안 고생한 나를 칭찬해 👏',
                                                                       '2월의 마침표를 찍는 날이니 수고한 나를 위해 가장 편안한 장소에서 푹 쉬는 시간을 선물해 주세요. 한 달간의 소비 기록을 별별소에서 쭉 훑어보며 다음 달에는 어떤 멋진 계획을 세울지 꿈꿔보는 것도 잊지 마세요!',
                                                                       '행운의 장소 : 내 방 침대 위');